<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Zotero Web Library Demo</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="/static/zotero-web-library.css">
	</head>
<body>
	<!-- test account with read-only api key -->
	<div data-widget="library" ></div>
</body>
<script src="/static/zotero-web-library.js"></script>
<script type="text/javascript">
	/* global Zotero:false */
	const collections = [...Array(5).keys()].map(index => {
		return {
			key: 'abcdefghijklmnopqrstuvwxyz'.toUpperCase().slice(index, index + 6),
			nestingDepth: 1,
			children: [],
			apiObj: {
				data: {
					name: 'Collection ' + (index + 1)
				}
			}
		};
	});

	const items = [...Array(10).keys()].map(index => {
		return {
			key: 'fjhagrhafkdsjfakjmepwijfhvtbeiafd'.toUpperCase().slice(index, index + 6),
			data: {
				title: 'Book ' + (index + 1),
				author: 'Author ' + (index + 1),
				year: 2001 + index,
				date: '2001-01-01'
			}
		};
	});

	const React = Zotero.ui.React;
	const ReactDOM = Zotero.ui.ReactDOM;
	const Navbar = Zotero.ui.Navbar;
	const CollectionTree = Zotero.ui.CollectionTree;
	const ItemsList = Zotero.ui.ItemList;
	console.log(Zotero.ui);
	const TagSelector = Zotero.ui.TagSelector;
	ReactDOM.render(
		React.createElement('div', {},
			React.createElement(Navbar, {}),
			React.createElement('main', {},
				React.createElement('section', {className: 'library'},
					React.createElement('header', {className: 'sidebar'}, 
						React.createElement('h2', {className: 'offscreen'}, 'Web Library'),
						React.createElement(CollectionTree, {collections: collections}),
						React.createElement(TagSelector)
					),
					React.createElement(ItemsList, {items: items})
				)
			)
		),
		document.querySelector('[data-widget=library]')
	);
	
	
</script>
</html>